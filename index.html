<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bangla Market - Full Stack E-commerce Platform</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .card-hover {
            transition: all 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        .tech-badge {
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            background-size: 200% 200%;
            animation: gradient 3s ease infinite;
        }
        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        .folder-tree {
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            background: #1a1a1a;
            color: #e2e8f0;
            border-radius: 8px;
            padding: 20px;
            overflow-x: auto;
        }
        .folder { color: #fbbf24; }
        .file { color: #10b981; }
        .config { color: #8b5cf6; }
        .component { color: #3b82f6; }
        
        /* Backend Services Styles */
        .service-card {
            transition: all 0.3s ease;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .service-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
        }
        
        .gateway-card {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }
        
        .protocol-badge {
            background: linear-gradient(45deg, #4facfe 0%, #00f2fe 100%);
        }
        
        .network-graph {
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            background: #f9fafb;
        }
        
        /* Animated Request Flow Styles */
        .service-node {
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            position: relative;
            z-index: 15;
        }
        
        .service-node.active {
            transform: scale(1.15) translateY(-4px);
            box-shadow: 0 10px 40px rgba(59, 130, 246, 0.4), 0 0 0 4px rgba(59, 130, 246, 0.2);
            z-index: 25;
        }
        
        .service-node.processing {
            animation: serviceProcessing 1.5s ease-in-out infinite;
        }
        
        @keyframes serviceProcessing {
            0%, 100% { 
                transform: scale(1.1);
                box-shadow: 0 8px 32px rgba(59, 130, 246, 0.3);
            }
            50% { 
                transform: scale(1.2);
                box-shadow: 0 12px 48px rgba(59, 130, 246, 0.6), 0 0 0 6px rgba(59, 130, 246, 0.1);
            }
        }
        
        .flow-path {
            transition: all 0.6s ease-in-out;
            stroke-dasharray: 1000;
            stroke-dashoffset: 1000;
        }
        
        .flow-path.active {
            opacity: 1 !important;
            animation: drawPath 1.2s ease-in-out forwards, pathPulse 2s ease-in-out infinite 1.2s;
        }
        
        @keyframes drawPath {
            to {
                stroke-dashoffset: 0;
            }
        }
        
        @keyframes pathPulse {
            0%, 100% { 
                stroke-width: 4;
                filter: drop-shadow(0 0 4px currentColor);
            }
            50% { 
                stroke-width: 6;
                filter: drop-shadow(0 0 8px currentColor);
            }
        }
        
        #request-packet {
            transition: all 1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            z-index: 30;
            transform: translate(-50%, -50%);
        }
        
        #request-packet.moving {
            opacity: 1 !important;
            animation: packetGlow 2s ease-in-out infinite;
        }
        
        @keyframes packetGlow {
            0%, 100% { 
                box-shadow: 0 4px 20px rgba(34, 197, 94, 0.4);
                transform: translate(-50%, -50%) scale(1);
            }
            50% { 
                box-shadow: 0 6px 30px rgba(34, 197, 94, 0.8);
                transform: translate(-50%, -50%) scale(1.1);
            }
        }
        
        .status-update {
            animation: statusSlide 0.6s ease-out;
        }
        
        @keyframes statusSlide {
            from {
                transform: translateY(20px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        /* Hover effects for better interaction */
        .service-node:hover {
            transform: scale(1.05) translateY(-2px);
            box-shadow: 0 6px 25px rgba(0, 0, 0, 0.15);
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Header -->
    <header class="gradient-bg text-white py-16">
        <div class="container mx-auto px-6">
            <div class="text-center">
                <h1 class="text-5xl font-bold mb-4">Bangla Market</h1>
                <p class="text-xl mb-8">Next-Generation Multi-Vendor E-commerce Platform</p>
                <div class="flex justify-center items-center space-x-8">
                    <div class="text-center">
                        <div class="text-3xl font-bold">8</div>
                        <div class="text-sm">Microservices</div>
                    </div>
                    <div class="text-center">
                        <div class="text-3xl font-bold">5</div>
                        <div class="text-sm">Frontend Apps</div>
                    </div>
                    <div class="text-center">
                        <div class="text-3xl font-bold">15+</div>
                        <div class="text-sm">Technologies</div>
                    </div>
                    <div class="text-center">
                        <div class="text-3xl font-bold">300+</div>
                        <div class="text-sm">API Endpoints</div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Architecture Overview -->
    <section class="py-16 bg-white">
        <div class="container mx-auto px-6">
            <h2 class="text-4xl font-bold text-center mb-12 text-gray-800">System Architecture</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="card-hover bg-blue-50 p-8 rounded-lg border-l-4 border-blue-500">
                    <h3 class="text-2xl font-bold mb-4 text-blue-800">Frontend Layer</h3>
                    <ul class="space-y-2 text-gray-700">
                        <li>‚Ä¢ Customer Portal (Next.js)</li>
                        <li>‚Ä¢ Vendor Dashboard (Next.js)</li>
                        <li>‚Ä¢ Admin Panel (Next.js)</li>
                        <li>‚Ä¢ Android App (React Native)</li>
                        <li>‚Ä¢ iOS App (React Native)</li>
                        <li>‚Ä¢ Real-time Updates</li>
                        <li>‚Ä¢ Responsive Design</li>
                    </ul>
                </div>
                <div class="card-hover bg-green-50 p-8 rounded-lg border-l-4 border-green-500">
                    <h3 class="text-2xl font-bold mb-4 text-green-800">Backend Layer</h3>
                    <ul class="space-y-2 text-gray-700">
                        <li>‚Ä¢ API Gateway (NestJS)</li>
                        <li>‚Ä¢ Microservices Architecture</li>
                        <li>‚Ä¢ gRPC Communication</li>
                        <li>‚Ä¢ Kafka Event Streaming</li>
                        <li>‚Ä¢ JWT Authentication</li>
                        <li>‚Ä¢ Role-based Access</li>
                    </ul>
                </div>
                <div class="card-hover bg-purple-50 p-8 rounded-lg border-l-4 border-purple-500">
                    <h3 class="text-2xl font-bold mb-4 text-purple-800">Data Layer</h3>
                    <ul class="space-y-2 text-gray-700">
                        <li>‚Ä¢ PostgreSQL Databases</li>
                        <li>‚Ä¢ Prisma ORM</li>
                        <li>‚Ä¢ Database per Service</li>
                        <li>‚Ä¢ Data Consistency</li>
                        <li>‚Ä¢ Migration Support</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Backend Services Architecture -->
    <section class="py-16 bg-gradient-to-br from-blue-50 to-indigo-100">
        <div class="container mx-auto px-6">
            <h2 class="text-4xl font-bold text-center mb-12 text-gray-800">üèóÔ∏è Backend Services Architecture</h2>
            
            <!-- Services Overview Stats -->
            <div class="bg-white rounded-xl shadow-lg p-6 mb-8 max-w-4xl mx-auto">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="text-center p-4 bg-blue-50 rounded-lg">
                        <div class="text-3xl font-bold text-blue-600">1</div>
                        <div class="text-sm text-gray-600">API Gateway</div>
                        <div class="text-xs text-gray-500 mt-1">Port 50050</div>
                    </div>
                    <div class="text-center p-4 bg-purple-50 rounded-lg">
                        <div class="text-3xl font-bold text-purple-600">6</div>
                        <div class="text-sm text-gray-600">Core Services + Kafka</div>
                        <div class="text-xs text-gray-500 mt-1">Ports 50051-50055 + 9092</div>
                    </div>
                    <div class="text-center p-4 bg-green-50 rounded-lg">
                        <div class="text-3xl font-bold text-green-600">gRPC</div>
                        <div class="text-sm text-gray-600">Communication</div>
                        <div class="text-xs text-gray-500 mt-1">Protocol Buffers</div>
                    </div>
                </div>
            </div>

            <!-- API Gateway -->
            <div class="mb-8">
                <h3 class="text-2xl font-semibold text-gray-900 mb-4 text-center">üö™ API Gateway</h3>
                <div class="gateway-card service-card rounded-xl p-6 text-white mb-6 max-w-4xl mx-auto">
                    <div class="flex items-center justify-between mb-4">
                        <h4 class="text-xl font-bold">API Gateway</h4>
                        <span class="protocol-badge px-3 py-1 rounded-full text-sm font-medium">Port 50050</span>
                    </div>
                    <p class="text-white/90 mb-4">Central entry point for all client requests. Handles authentication, routing, and communication with microservices.</p>
                    <div class="grid grid-cols-2 gap-4 text-sm">
                        <div>
                            <div class="font-semibold mb-1">Framework:</div>
                            <div class="text-white/80">NestJS</div>
                        </div>
                        <div>
                            <div class="font-semibold mb-1">Communication:</div>
                            <div class="text-white/80">HTTP ‚Üí gRPC</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Core Services Grid -->
            <div class="mb-8">
                <h3 class="text-2xl font-semibold text-gray-900 mb-6 text-center">üîß Core Microservices</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
                    
                    <!-- User Service -->
                    <div class="service-card rounded-xl p-6 text-white">
                        <div class="flex items-center justify-between mb-4">
                            <h4 class="text-lg font-bold">üë§ User Service</h4>
                            <span class="protocol-badge px-3 py-1 rounded-full text-sm font-medium">:50051</span>
                        </div>
                        <p class="text-white/90 mb-4">Handles user authentication, profiles, and address management.</p>
                        <div class="space-y-2 text-sm">
                            <div class="flex justify-between">
                                <span class="text-white/80">gRPC Methods:</span>
                                <span class="font-medium">15+</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-white/80">Database:</span>
                                <span class="font-medium">PostgreSQL</span>
                            </div>
                            <div class="text-white/80 text-xs mt-2">
                                Auth, Profile, Addresses, Admin Management
                            </div>
                        </div>
                    </div>

                    <!-- Product Service -->
                    <div class="service-card rounded-xl p-6 text-white">
                        <div class="flex items-center justify-between mb-4">
                            <h4 class="text-lg font-bold">üì¶ Product Service</h4>
                            <span class="protocol-badge px-3 py-1 rounded-full text-sm font-medium">:50052</span>
                        </div>
                        <p class="text-white/90 mb-4">Manages product catalog, categories, brands, and inventory.</p>
                        <div class="space-y-2 text-sm">
                            <div class="flex justify-between">
                                <span class="text-white/80">Proto Files:</span>
                                <span class="font-medium">4</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-white/80">Database:</span>
                                <span class="font-medium">PostgreSQL</span>
                            </div>
                            <div class="text-white/80 text-xs mt-2">
                                Products, Categories, Brands, Attributes
                            </div>
                        </div>
                    </div>

                    <!-- Order Service -->
                    <div class="service-card rounded-xl p-6 text-white">
                        <div class="flex items-center justify-between mb-4">
                            <h4 class="text-lg font-bold">üõí Order Service</h4>
                            <span class="protocol-badge px-3 py-1 rounded-full text-sm font-medium">:50053</span>
                        </div>
                        <p class="text-white/90 mb-4">Processes orders, payments, and order lifecycle management.</p>
                        <div class="space-y-2 text-sm">
                            <div class="flex justify-between">
                                <span class="text-white/80">Dependencies:</span>
                                <span class="font-medium">User, Product</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-white/80">Database:</span>
                                <span class="font-medium">PostgreSQL</span>
                            </div>
                            <div class="text-white/80 text-xs mt-2">
                                Order Processing, Payments, Vendor Orders
                            </div>
                        </div>
                    </div>

                    <!-- Vendor Service -->
                    <div class="service-card rounded-xl p-6 text-white">
                        <div class="flex items-center justify-between mb-4">
                            <h4 class="text-lg font-bold">üè™ Vendor Service</h4>
                            <span class="protocol-badge px-3 py-1 rounded-full text-sm font-medium">:50054</span>
                        </div>
                        <p class="text-white/90 mb-4">Manages vendor profiles, stores, and vendor-specific operations.</p>
                        <div class="space-y-2 text-sm">
                            <div class="flex justify-between">
                                <span class="text-white/80">Dependencies:</span>
                                <span class="font-medium">User</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-white/80">Database:</span>
                                <span class="font-medium">PostgreSQL</span>
                            </div>
                            <div class="text-white/80 text-xs mt-2">
                                Vendor Registration, Store Management
                            </div>
                        </div>
                    </div>

                    <!-- Notification Service -->
                    <div class="service-card rounded-xl p-6 text-white">
                        <div class="flex items-center justify-between mb-4">
                            <h4 class="text-lg font-bold">üîî Notification Service</h4>
                            <span class="protocol-badge px-3 py-1 rounded-full text-sm font-medium">:50055</span>
                        </div>
                        <p class="text-white/90 mb-4">Handles email, SMS, and push notifications across the platform.</p>
                        <div class="space-y-2 text-sm">
                            <div class="flex justify-between">
                                <span class="text-white/80">Dependencies:</span>
                                <span class="font-medium">Order</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-white/80">Database:</span>
                                <span class="font-medium">PostgreSQL</span>
                            </div>
                            <div class="text-white/80 text-xs mt-2">
                                Email, SMS, Push Notifications
                            </div>
                        </div>
                    </div>

                    <!-- Analytical Service -->
                    <div class="service-card rounded-xl p-6 text-white">
                        <div class="flex items-center justify-between mb-4">
                            <h4 class="text-lg font-bold">üìä Analytical Service</h4>
                            <span class="protocol-badge px-3 py-1 rounded-full text-sm font-medium">:50056</span>
                        </div>
                        <p class="text-white/90 mb-4">Collects and analyzes data from all services for business intelligence.</p>
                        <div class="space-y-2 text-sm">
                            <div class="flex justify-between">
                                <span class="text-white/80">Dependencies:</span>
                                <span class="font-medium">All Services</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-white/80">Database:</span>
                                <span class="font-medium">PostgreSQL + ClickHouse</span>
                            </div>
                            <div class="text-white/80 text-xs mt-2">
                                Real-time Analytics, Business Intelligence, Data Insights
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Service Communication Flow -->
            <div class="mb-8">
                <h3 class="text-2xl font-semibold text-gray-900 mb-6 text-center">üîÑ Service Communication Flow</h3>
                
                <!-- Communication Types -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                    <div class="bg-gradient-to-br from-blue-500 to-blue-600 p-4 rounded-lg text-white text-center">
                        <div class="text-2xl mb-2">‚ö°</div>
                        <h4 class="font-bold mb-1">Synchronous</h4>
                        <p class="text-sm text-blue-100">gRPC for real-time requests</p>
                    </div>
                    <div class="bg-gradient-to-br from-purple-500 to-purple-600 p-4 rounded-lg text-white text-center">
                        <div class="text-2xl mb-2">üîÑ</div>
                        <h4 class="font-bold mb-1">Asynchronous</h4>
                        <p class="text-sm text-purple-100">Kafka for event streaming</p>
                    </div>
                    <div class="bg-gradient-to-br from-green-500 to-green-600 p-4 rounded-lg text-white text-center">
                        <div class="text-2xl mb-2">üìä</div>
                        <h4 class="font-bold mb-1">Data Population</h4>
                        <p class="text-sm text-green-100">Cross-service data sync</p>
                    </div>
                </div>

                <!-- Network Diagram -->
                <div class="bg-white rounded-xl shadow-lg p-6 max-w-7xl mx-auto">
                    <div class="network-graph" style="height: 600px;" id="networkGraph"></div>
                </div>

                <!-- Event Flow Examples -->
                <div class="mt-8 grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <div class="bg-white rounded-lg shadow-lg p-6">
                        <h4 class="text-lg font-bold text-gray-900 mb-4">üì¶ Order Placement Event Flow</h4>
                        <div class="space-y-3">
                            <div class="flex items-center">
                                <div class="w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm font-bold mr-3">1</div>
                                <span class="text-sm">Customer places order ‚Üí Order Service</span>
                            </div>
                            <div class="flex items-center">
                                <div class="w-8 h-8 bg-purple-500 text-white rounded-full flex items-center justify-center text-sm font-bold mr-3">2</div>
                                <span class="text-sm">Order Service ‚Üí Kafka: <code class="bg-gray-100 px-2 py-1 rounded">order.created</code></span>
                            </div>
                            <div class="flex items-center">
                                <div class="w-8 h-8 bg-green-500 text-white rounded-full flex items-center justify-center text-sm font-bold mr-3">3</div>
                                <span class="text-sm">Product Service updates inventory</span>
                            </div>
                            <div class="flex items-center">
                                <div class="w-8 h-8 bg-yellow-500 text-white rounded-full flex items-center justify-center text-sm font-bold mr-3">4</div>
                                <span class="text-sm">Notification Service sends confirmation</span>
                            </div>
                            <div class="flex items-center">
                                <div class="w-8 h-8 bg-red-500 text-white rounded-full flex items-center justify-center text-sm font-bold mr-3">5</div>
                                <span class="text-sm">Vendor Service notifies seller</span>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white rounded-lg shadow-lg p-6">
                        <h4 class="text-lg font-bold text-gray-900 mb-4">üìã Kafka Event Topics</h4>
                        <div class="space-y-2 text-sm">
                            <div class="flex justify-between items-center p-2 bg-blue-50 rounded">
                                <span class="font-medium">order.created</span>
                                <span class="text-xs text-gray-600">Order lifecycle</span>
                            </div>
                            <div class="flex justify-between items-center p-2 bg-green-50 rounded">
                                <span class="font-medium">product.updated</span>
                                <span class="text-xs text-gray-600">Inventory sync</span>
                            </div>
                            <div class="flex justify-between items-center p-2 bg-purple-50 rounded">
                                <span class="font-medium">user.registered</span>
                                <span class="text-xs text-gray-600">Welcome flow</span>
                            </div>
                            <div class="flex justify-between items-center p-2 bg-yellow-50 rounded">
                                <span class="font-medium">vendor.approved</span>
                                <span class="text-xs text-gray-600">Onboarding</span>
                            </div>
                            <div class="flex justify-between items-center p-2 bg-red-50 rounded">
                                <span class="font-medium">payment.processed</span>
                                <span class="text-xs text-gray-600">Financial sync</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Animated Request Flow -->
            <div class="mb-8">
                <h3 class="text-2xl font-semibold text-gray-900 mb-6 text-center">üé¨ Animated Request Flow</h3>
                <div class="bg-gradient-to-br from-slate-50 to-blue-50 rounded-xl shadow-lg p-8 max-w-7xl mx-auto">
                    
                    <!-- Flow Control -->
                    <div class="text-center mb-6">
                        <button id="startFlow" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-medium transition-colors">
                            üöÄ Start Order Request Flow
                        </button>
                        <button id="resetFlow" class="ml-3 bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg font-medium transition-colors">
                            üîÑ Reset
                        </button>
                    </div>

                    <!-- Request Flow Diagram -->
                    <div id="requestDiagram" class="relative bg-white rounded-lg p-6 min-h-[640px] overflow-hidden">
                        
                        <!-- Service Nodes - Better Positioning -->
                        <div class="absolute top-8 left-16 w-24 h-24 bg-gradient-to-br from-blue-500 to-blue-600 text-white rounded-xl flex flex-col items-center justify-center text-xs font-bold shadow-lg service-node transition-all duration-300" id="user-node">
                            <div class="text-2xl">üë§</div>
                            <div>User</div>
                        </div>
                        
                        <div class="absolute top-8 left-1/2 transform -translate-x-1/2 w-28 h-24 bg-gradient-to-br from-purple-500 to-purple-600 text-white rounded-xl flex flex-col items-center justify-center text-xs font-bold shadow-lg service-node transition-all duration-300" id="gateway-node">
                            <div class="text-xl">üö™</div>
                            <div>API Gateway</div>
                            <div class="text-xs opacity-80">:50050</div>
                        </div>
                        
                        <div class="absolute top-36 left-32 w-24 h-24 bg-gradient-to-br from-green-500 to-green-600 text-white rounded-xl flex flex-col items-center justify-center text-xs font-bold shadow-lg service-node transition-all duration-300" id="auth-node">
                            <div class="text-2xl">üîê</div>
                            <div>Auth Service</div>
                            <div class="text-xs opacity-80">:50051</div>
                        </div>
                        
                        <div class="absolute top-36 right-32 w-24 h-24 bg-gradient-to-br from-yellow-500 to-yellow-600 text-white rounded-xl flex flex-col items-center justify-center text-xs font-bold shadow-lg service-node transition-all duration-300" id="order-node">
                            <div class="text-2xl">üõí</div>
                            <div>Order Service</div>
                            <div class="text-xs opacity-80">:50053</div>
                        </div>
                        
                        <div class="absolute top-64 right-16 w-24 h-24 bg-gradient-to-br from-indigo-500 to-indigo-600 text-white rounded-xl flex flex-col items-center justify-center text-xs font-bold shadow-lg service-node transition-all duration-300" id="product-node">
                            <div class="text-2xl">üì¶</div>
                            <div>Product Service</div>
                            <div class="text-xs opacity-80">:50052</div>
                        </div>
                        
                        <div class="absolute bottom-36 right-32 w-24 h-24 bg-gradient-to-br from-red-500 to-red-600 text-white rounded-xl flex flex-col items-center justify-center text-xs font-bold shadow-lg service-node transition-all duration-300" id="payment-node">
                            <div class="text-2xl">üí≥</div>
                            <div>Payment</div>
                            <div class="text-xs opacity-80">External</div>
                        </div>
                        
                        <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 w-28 h-24 bg-gradient-to-br from-orange-500 to-orange-600 text-white rounded-xl flex flex-col items-center justify-center text-xs font-bold shadow-lg service-node transition-all duration-300" id="kafka-node">
                            <div class="text-xl">‚ö°</div>
                            <div>Kafka Events</div>
                            <div class="text-xs opacity-80">:9092</div>
                        </div>

                        <!-- Animated Request Packet -->
                        <div class="absolute w-12 h-12 bg-gradient-to-r from-cyan-400 to-blue-500 rounded-full flex items-center justify-center text-white text-lg font-bold shadow-lg opacity-0 transition-all duration-700 z-20" id="request-packet">
                            üì®
                        </div>

                        <!-- Static Flow Paths (Background) -->
                        <svg id="flow-bg" class="absolute inset-0 w-full h-full pointer-events-none z-0" viewBox="0 0 800 600" style="display:none" preserveAspectRatio="none">
                            <defs>
                                <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                                    <polygon points="0 0, 10 3.5, 0 7" fill="#94a3b8" />
                                </marker>
                                <marker id="activeArrow" markerWidth="12" markerHeight="9" refX="11" refY="4.5" orient="auto">
                                    <polygon points="0 0, 12 4.5, 0 9" fill="#3b82f6" />
                                </marker>
                            </defs>
                            
                            <!-- Background flow paths -->
                            <path d="M 140 70 Q 200 50 260 70" stroke="#e2e8f0" stroke-width="2" fill="none" marker-end="url(#arrowhead)" stroke-dasharray="5,5" />
                            <path d="M 290 95 Q 200 130 144 148" stroke="#e2e8f0" stroke-width="2" fill="none" marker-end="url(#arrowhead)" stroke-dasharray="5,5" />
                            <path d="M 156 172 Q 220 150 280 95" stroke="#e2e8f0" stroke-width="2" fill="none" marker-end="url(#arrowhead)" stroke-dasharray="5,5" />
                            <path d="M 320 95 Q 450 120 544 148" stroke="#e2e8f0" stroke-width="2" fill="none" marker-end="url(#arrowhead)" stroke-dasharray="5,5" />
                            <path d="M 556 172 Q 580 220 556 276" stroke="#e2e8f0" stroke-width="2" fill="none" marker-end="url(#arrowhead)" stroke-dasharray="5,5" />
                            <path d="M 544 324 Q 520 380 544 436" stroke="#e2e8f0" stroke-width="2" fill="none" marker-end="url(#arrowhead)" stroke-dasharray="5,5" />
                            <path d="M 532 460 Q 450 500 360 520" stroke="#e2e8f0" stroke-width="2" fill="none" marker-end="url(#arrowhead)" stroke-dasharray="5,5" />
                            <path d="M 320 520 Q 200 480 280 95" stroke="#e2e8f0" stroke-width="2" fill="none" marker-end="url(#arrowhead)" stroke-dasharray="5,5" />
                            <path d="M 260 70 Q 200 50 140 70" stroke="#e2e8f0" stroke-width="2" fill="none" marker-end="url(#arrowhead)" stroke-dasharray="5,5" />
                        </svg>

                        <!-- Active Flow Lines (Initially Hidden) -->
                        <svg class="absolute inset-0 w-full h-full pointer-events-none z-10" viewBox="0 0 800 600" id="active-flow" preserveAspectRatio="none">
                            <defs>
                                <marker id="activeArrow" markerWidth="12" markerHeight="9" refX="11" refY="4.5" orient="auto">
                                    <polygon points="0 0, 12 4.5, 0 9" fill="#3b82f6" />
                                </marker>
                            </defs>
                            <!-- These will be activated one by one -->
                            <path class="flow-path opacity-0" d="M 140 70 Q 200 50 260 70" stroke="#3b82f6" stroke-width="4" fill="none" marker-end="url(#activeArrow)" />
                            <path class="flow-path opacity-0" d="M 290 95 Q 200 130 144 148" stroke="#10b981" stroke-width="4" fill="none" marker-end="url(#activeArrow)" />
                            <path class="flow-path opacity-0" d="M 156 172 Q 220 150 280 95" stroke="#10b981" stroke-width="4" fill="none" marker-end="url(#activeArrow)" />
                            <path class="flow-path opacity-0" d="M 320 95 Q 450 120 544 148" stroke="#eab308" stroke-width="4" fill="none" marker-end="url(#activeArrow)" />
                            <path class="flow-path opacity-0" d="M 556 172 Q 580 220 556 276" stroke="#6366f1" stroke-width="4" fill="none" marker-end="url(#activeArrow)" />
                            <path class="flow-path opacity-0" d="M 544 324 Q 520 380 544 436" stroke="#ef4444" stroke-width="4" fill="none" marker-end="url(#activeArrow)" />
                            <path class="flow-path opacity-0" d="M 532 460 Q 450 500 360 520" stroke="#f97316" stroke-width="4" fill="none" marker-end="url(#activeArrow)" />
                            <path class="flow-path opacity-0" d="M 320 520 Q 200 480 280 95" stroke="#06b6d4" stroke-width="4" fill="none" marker-end="url(#activeArrow)" />
                            <path class="flow-path opacity-0" d="M 260 70 Q 200 50 140 70" stroke="#06b6d4" stroke-width="4" fill="none" marker-end="url(#activeArrow)" />
                        </svg>

                        <!-- Status Messages -->
                        <div class="absolute bottom-4 left-4 right-4 z-30">
                            <div id="status-message" class="text-center text-sm font-medium text-gray-700 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg py-3 px-4 border border-blue-200 shadow-sm">
                                Click "Start Order Request Flow" to see the animation
                            </div>
                        </div>
                    </div>

                    <!-- Flow Steps Legend -->
                    <div class="mt-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                        <div class="bg-white rounded-lg p-4 shadow border-l-4 border-blue-500">
                            <div class="font-bold text-blue-700 mb-2">Step 1-2: Authentication</div>
                            <div class="text-sm text-gray-600">User ‚Üí Gateway ‚Üí Auth Service ‚Üí Gateway</div>
                        </div>
                        <div class="bg-white rounded-lg p-4 shadow border-l-4 border-yellow-500">
                            <div class="font-bold text-yellow-700 mb-2">Step 3-4: Order Processing</div>
                            <div class="text-sm text-gray-600">Gateway ‚Üí Order Service ‚Üí Product Service</div>
                        </div>
                        <div class="bg-white rounded-lg p-4 shadow border-l-4 border-red-500">
                            <div class="font-bold text-red-700 mb-2">Step 5-6: Payment</div>
                            <div class="text-sm text-gray-600">Order ‚Üí Payment Gateway ‚Üí Kafka Events</div>
                        </div>
                        <div class="bg-white rounded-lg p-4 shadow border-l-4 border-cyan-500">
                            <div class="font-bold text-cyan-700 mb-2">Step 7-8: Response</div>
                            <div class="text-sm text-gray-600">Kafka ‚Üí Gateway ‚Üí User Response</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Protocol Buffer Definitions -->
            <div class="mb-8">
                <h3 class="text-2xl font-semibold text-gray-900 mb-6 text-center">üìã Protocol Buffer Definitions</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                    <div class="bg-white rounded-lg shadow p-4">
                        <h4 class="font-semibold text-gray-900 mb-2">user.proto</h4>
                        <div class="text-sm text-gray-600">
                            <div>‚Ä¢ UserService (15+ methods)</div>
                            <div>‚Ä¢ AdminService (7 methods)</div>
                            <div>‚Ä¢ Address Management</div>
                        </div>
                    </div>
                    <div class="bg-white rounded-lg shadow p-4">
                        <h4 class="font-semibold text-gray-900 mb-2">product.proto</h4>
                        <div class="text-sm text-gray-600">
                            <div>‚Ä¢ Product CRUD</div>
                            <div>‚Ä¢ Inventory Management</div>
                            <div>‚Ä¢ Search & Filtering</div>
                        </div>
                    </div>
                    <div class="bg-white rounded-lg shadow p-4">
                        <h4 class="font-semibold text-gray-900 mb-2">order.proto</h4>
                        <div class="text-sm text-gray-600">
                            <div>‚Ä¢ Order Processing</div>
                            <div>‚Ä¢ Payment Integration</div>
                            <div>‚Ä¢ Vendor Order Split</div>
                        </div>
                    </div>
                    <div class="bg-white rounded-lg shadow p-4">
                        <h4 class="font-semibold text-gray-900 mb-2">vendor.proto</h4>
                        <div class="text-sm text-gray-600">
                            <div>‚Ä¢ Store Management</div>
                            <div>‚Ä¢ Vendor Registration</div>
                            <div>‚Ä¢ Analytics</div>
                        </div>
                    </div>
                    <div class="bg-white rounded-lg shadow p-4">
                        <h4 class="font-semibold text-gray-900 mb-2">notification.proto</h4>
                        <div class="text-sm text-gray-600">
                            <div>‚Ä¢ Email Service</div>
                            <div>‚Ä¢ SMS Gateway</div>
                            <div>‚Ä¢ Push Notifications</div>
                        </div>
                    </div>
                    <div class="bg-white rounded-lg shadow p-4">
                        <h4 class="font-semibold text-gray-900 mb-2">category.proto</h4>
                        <div class="text-sm text-gray-600">
                            <div>‚Ä¢ Category Tree</div>
                            <div>‚Ä¢ Hierarchical Structure</div>
                            <div>‚Ä¢ Product Classification</div>
                        </div>
                    </div>
                    <div class="bg-white rounded-lg shadow p-4">
                        <h4 class="font-semibold text-gray-900 mb-2">brand.proto</h4>
                        <div class="text-sm text-gray-600">
                            <div>‚Ä¢ Brand Management</div>
                            <div>‚Ä¢ Brand Analytics</div>
                            <div>‚Ä¢ Product Association</div>
                        </div>
                    </div>
                    <div class="bg-white rounded-lg shadow p-4">
                        <h4 class="font-semibold text-gray-900 mb-2">attribute.proto</h4>
                        <div class="text-sm text-gray-600">
                            <div>‚Ä¢ Product Attributes</div>
                            <div>‚Ä¢ Variations</div>
                            <div>‚Ä¢ Filtering Options</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Service Configuration -->
            <div class="mb-8">
                <h3 class="text-2xl font-semibold text-gray-900 mb-6 text-center">‚öôÔ∏è Service Configuration</h3>
                <div class="bg-white rounded-xl shadow-lg p-6 max-w-6xl mx-auto">
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        <div>
                            <h4 class="font-semibold text-gray-900 mb-4">üåê Network Configuration</h4>
                            <div class="space-y-3">
                                <div class="flex justify-between items-center p-3 bg-gray-50 rounded-lg">
                                    <span class="text-sm font-medium">API Gateway</span>
                                    <span class="text-sm text-gray-600">0.0.0.0:50050</span>
                                </div>
                                <div class="flex justify-between items-center p-3 bg-gray-50 rounded-lg">
                                    <span class="text-sm font-medium">User Service</span>
                                    <span class="text-sm text-gray-600">user-service:50051</span>
                                </div>
                                <div class="flex justify-between items-center p-3 bg-gray-50 rounded-lg">
                                    <span class="text-sm font-medium">Product Service</span>
                                    <span class="text-sm text-gray-600">product-service:50052</span>
                                </div>
                                <div class="flex justify-between items-center p-3 bg-gray-50 rounded-lg">
                                    <span class="text-sm font-medium">Order Service</span>
                                    <span class="text-sm text-gray-600">order-service:50053</span>
                                </div>
                                <div class="flex justify-between items-center p-3 bg-gray-50 rounded-lg">
                                    <span class="text-sm font-medium">Vendor Service</span>
                                    <span class="text-sm text-gray-600">vendor-service:50054</span>
                                </div>
                                <div class="flex justify-between items-center p-3 bg-gray-50 rounded-lg">
                                    <span class="text-sm font-medium">Notification Service</span>
                                    <span class="text-sm text-gray-600">notification-service:50055</span>
                                </div>
                            </div>
                        </div>
                        <div>
                            <h4 class="font-semibold text-gray-900 mb-4">üóÑÔ∏è Database Strategy</h4>
                            <div class="space-y-3">
                                <div class="p-4 bg-blue-50 rounded-lg border border-blue-200">
                                    <div class="font-medium text-blue-900 mb-1">Database Per Service</div>
                                    <div class="text-sm text-blue-700">Each microservice has its own PostgreSQL database instance</div>
                                </div>
                                <div class="p-4 bg-green-50 rounded-lg border border-green-200">
                                    <div class="font-medium text-green-900 mb-1">Prisma ORM</div>
                                    <div class="text-sm text-green-700">Type-safe database access with automated migrations</div>
                                </div>
                                <div class="p-4 bg-purple-50 rounded-lg border border-purple-200">
                                    <div class="font-medium text-purple-900 mb-1">Service Independence</div>
                                    <div class="text-sm text-purple-700">No direct database access between services</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Architecture Highlights -->
            <div class="mb-8">
                <h3 class="text-2xl font-semibold text-gray-900 mb-6 text-center">‚ú® Architecture Highlights</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div class="bg-white rounded-lg shadow-lg p-6">
                        <div class="flex items-center mb-4">
                            <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center">
                                <span class="text-2xl">üöÄ</span>
                            </div>
                            <h4 class="ml-3 text-lg font-semibold text-gray-900">High Performance</h4>
                        </div>
                        <p class="text-gray-600 text-sm">gRPC communication provides faster serialization and lower latency compared to REST</p>
                    </div>
                    
                    <div class="bg-white rounded-lg shadow-lg p-6">
                        <div class="flex items-center mb-4">
                            <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center">
                                <span class="text-2xl">üîß</span>
                            </div>
                            <h4 class="ml-3 text-lg font-semibold text-gray-900">Scalable</h4>
                        </div>
                        <p class="text-gray-600 text-sm">Independent services can be scaled horizontally based on demand</p>
                    </div>
                    
                    <div class="bg-white rounded-lg shadow-lg p-6">
                        <div class="flex items-center mb-4">
                            <div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center">
                                <span class="text-2xl">üõ°Ô∏è</span>
                            </div>
                            <h4 class="ml-3 text-lg font-semibold text-gray-900">Type Safety</h4>
                        </div>
                        <p class="text-gray-600 text-sm">Protocol Buffers ensure type safety across service boundaries</p>
                    </div>
                    
                    <div class="bg-white rounded-lg shadow-lg p-6">
                        <div class="flex items-center mb-4">
                            <div class="w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center">
                                <span class="text-2xl">üîÑ</span>
                            </div>
                            <h4 class="ml-3 text-lg font-semibold text-gray-900">Fault Tolerant</h4>
                        </div>
                        <p class="text-gray-600 text-sm">Service isolation prevents cascading failures across the system</p>
                    </div>
                    
                    <div class="bg-white rounded-lg shadow-lg p-6">
                        <div class="flex items-center mb-4">
                            <div class="w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center">
                                <span class="text-2xl">üìä</span>
                            </div>
                            <h4 class="ml-3 text-lg font-semibold text-gray-900">Observable</h4>
                        </div>
                        <p class="text-gray-600 text-sm">Each service provides metrics and logging for monitoring</p>
                    </div>
                    
                    <div class="bg-white rounded-lg shadow-lg p-6">
                        <div class="flex items-center mb-4">
                            <div class="w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center">
                                <span class="text-2xl">üê≥</span>
                            </div>
                            <h4 class="ml-3 text-lg font-semibold text-gray-900">Containerized</h4>
                        </div>
                        <p class="text-gray-600 text-sm">Docker containers ensure consistent deployment across environments</p>
                    </div>
                    
                    <div class="bg-white rounded-lg shadow-lg p-6">
                        <div class="flex items-center mb-4">
                            <div class="w-12 h-12 bg-pink-100 rounded-lg flex items-center justify-center">
                                <span class="text-2xl">‚ö°</span>
                            </div>
                            <h4 class="ml-3 text-lg font-semibold text-gray-900">Event-Driven</h4>
                        </div>
                        <p class="text-gray-600 text-sm">Kafka enables real-time event streaming and decoupled service communication</p>
                    </div>
                    
                    <div class="bg-white rounded-lg shadow-lg p-6">
                        <div class="flex items-center mb-4">
                            <div class="w-12 h-12 bg-teal-100 rounded-lg flex items-center justify-center">
                                <span class="text-2xl">üîÑ</span>
                            </div>
                            <h4 class="ml-3 text-lg font-semibold text-gray-900">Data Consistency</h4>
                        </div>
                        <p class="text-gray-600 text-sm">Cross-service data population ensures synchronized state across all services</p>
                    </div>
                </div>
            </div>

            <!-- Scalability Metrics & Technology Advantages -->
            <div class="mb-8">
                <h3 class="text-2xl font-semibold text-gray-900 mb-6 text-center">üìà Scalability Metrics & Technology Benefits</h3>
                
                <!-- Performance Metrics -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                    <div class="bg-gradient-to-br from-blue-500 to-blue-600 p-6 rounded-lg text-white text-center">
                        <div class="text-3xl font-bold mb-2">10K+</div>
                        <div class="text-sm">Concurrent Users</div>
                        <div class="text-xs text-blue-100 mt-1">Per service instance</div>
                    </div>
                    <div class="bg-gradient-to-br from-green-500 to-green-600 p-6 rounded-lg text-white text-center">
                        <div class="text-3xl font-bold mb-2">50ms</div>
                        <div class="text-sm">Avg Response Time</div>
                        <div class="text-xs text-green-100 mt-1">gRPC advantage</div>
                    </div>
                    <div class="bg-gradient-to-br from-purple-500 to-purple-600 p-6 rounded-lg text-white text-center">
                        <div class="text-3xl font-bold mb-2">99.9%</div>
                        <div class="text-sm">Uptime SLA</div>
                        <div class="text-xs text-purple-100 mt-1">Service isolation</div>
                    </div>
                    <div class="bg-gradient-to-br from-red-500 to-red-600 p-6 rounded-lg text-white text-center">
                        <div class="text-3xl font-bold mb-2">5M+</div>
                        <div class="text-sm">Events/Hour</div>
                        <div class="text-xs text-red-100 mt-1">Kafka throughput</div>
                    </div>
                </div>

                <!-- Technology Scalability Analysis -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div class="bg-white rounded-lg shadow-lg p-6">
                        <h4 class="text-xl font-bold text-gray-900 mb-4">üöÄ Horizontal Scaling Capabilities</h4>
                        <div class="space-y-4">
                            <div class="border-l-4 border-blue-500 pl-4">
                                <h5 class="font-semibold text-blue-900">Microservices Architecture</h5>
                                <p class="text-sm text-gray-600 mt-1">Each service can be scaled independently based on demand. High-traffic services like Product Catalog can run multiple instances while low-traffic services like Notifications can run single instances.</p>
                                <div class="flex items-center mt-2 text-xs text-blue-600">
                                    <span class="mr-2">üìä</span>
                                    <span>Scale: 1-100+ instances per service</span>
                                </div>
                            </div>
                            
                            <div class="border-l-4 border-green-500 pl-4">
                                <h5 class="font-semibold text-green-900">gRPC Performance</h5>
                                <p class="text-sm text-gray-600 mt-1">HTTP/2 based protocol with binary serialization provides 7-10x faster communication than REST JSON. Supports multiplexing, reducing connection overhead significantly.</p>
                                <div class="flex items-center mt-2 text-xs text-green-600">
                                    <span class="mr-2">‚ö°</span>
                                    <span>Throughput: 50,000+ RPS per instance</span>
                                </div>
                            </div>
                            
                            <div class="border-l-4 border-purple-500 pl-4">
                                <h5 class="font-semibold text-purple-900">Kafka Event Streaming</h5>
                                <p class="text-sm text-gray-600 mt-1">Distributed commit log design allows horizontal partitioning. Each topic can be split across multiple brokers, enabling massive throughput and fault tolerance.</p>
                                <div class="flex items-center mt-2 text-xs text-purple-600">
                                    <span class="mr-2">üîÑ</span>
                                    <span>Capacity: Millions of events/second</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white rounded-lg shadow-lg p-6">
                        <h4 class="text-xl font-bold text-gray-900 mb-4">üóÑÔ∏è Database Scalability Strategy</h4>
                        <div class="space-y-4">
                            <div class="border-l-4 border-indigo-500 pl-4">
                                <h5 class="font-semibold text-indigo-900">Database Per Service</h5>
                                <p class="text-sm text-gray-600 mt-1">Each service owns its database, enabling independent scaling, schema evolution, and technology choices. No shared database bottlenecks.</p>
                                <div class="flex items-center mt-2 text-xs text-indigo-600">
                                    <span class="mr-2">üéØ</span>
                                    <span>Isolation: 100% service autonomy</span>
                                </div>
                            </div>
                            
                            <div class="border-l-4 border-yellow-500 pl-4">
                                <h5 class="font-semibold text-yellow-900">PostgreSQL Advantages</h5>
                                <p class="text-sm text-gray-600 mt-1">Supports read replicas, connection pooling, and horizontal sharding. ACID compliance ensures data consistency while allowing performance optimizations.</p>
                                <div class="flex items-center mt-2 text-xs text-yellow-600">
                                    <span class="mr-2">üìà</span>
                                    <span>Connections: 1000+ per instance</span>
                                </div>
                            </div>
                            
                            <div class="border-l-4 border-red-500 pl-4">
                                <h5 class="font-semibold text-red-900">Prisma ORM Efficiency</h5>
                                <p class="text-sm text-gray-600 mt-1">Query optimization, connection pooling, and type-safe database access. Reduces N+1 query problems and enables efficient data fetching patterns.</p>
                                <div class="flex items-center mt-2 text-xs text-red-600">
                                    <span class="mr-2">üîß</span>
                                    <span>Optimization: 80% fewer database calls</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Scaling Scenarios -->
                <div class="mt-8 bg-gradient-to-br from-gray-50 to-gray-100 rounded-lg p-6">
                    <h4 class="text-xl font-bold text-gray-900 mb-4 text-center">üéØ Real-World Scaling Scenarios</h4>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div class="bg-white p-4 rounded-lg shadow">
                            <h5 class="font-bold text-blue-600 mb-2">üõí Flash Sale Event</h5>
                            <div class="text-sm space-y-1">
                                <div>‚Ä¢ Product Service: 10x instances</div>
                                <div>‚Ä¢ Order Service: 5x instances</div>
                                <div>‚Ä¢ User Service: 3x instances</div>
                                <div>‚Ä¢ Kafka: Auto-partition scaling</div>
                                <div class="text-xs text-gray-500 mt-2">Handles 100K+ concurrent shoppers</div>
                            </div>
                        </div>
                        
                        <div class="bg-white p-4 rounded-lg shadow">
                            <h5 class="font-bold text-green-600 mb-2">üìà Business Growth</h5>
                            <div class="text-sm space-y-1">
                                <div>‚Ä¢ Vendor Service: Scale with sellers</div>
                                <div>‚Ä¢ Product Service: Scale with catalog</div>
                                <div>‚Ä¢ Database: Read replicas</div>
                                <div>‚Ä¢ Load balancers: Geographic</div>
                                <div class="text-xs text-gray-500 mt-2">Supports 10K+ vendors, 1M+ products</div>
                            </div>
                        </div>
                        
                        <div class="bg-white p-4 rounded-lg shadow">
                            <h5 class="font-bold text-purple-600 mb-2">üåç Global Expansion</h5>
                            <div class="text-sm space-y-1">
                                <div>‚Ä¢ Multi-region deployment</div>
                                <div>‚Ä¢ CDN for static assets</div>
                                <div>‚Ä¢ Regional database clusters</div>
                                <div>‚Ä¢ Kafka multi-datacenter</div>
                                <div class="text-xs text-gray-500 mt-2">Sub-100ms latency worldwide</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Technology Comparison -->
                <div class="mt-8">
                    <h4 class="text-xl font-bold text-gray-900 mb-4 text-center">‚öñÔ∏è Technology Scalability Comparison</h4>
                    <div class="bg-white rounded-lg shadow-lg overflow-hidden">
                        <table class="w-full text-sm">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th class="px-4 py-3 text-left font-semibold">Technology</th>
                                    <th class="px-4 py-3 text-center font-semibold">Throughput</th>
                                    <th class="px-4 py-3 text-center font-semibold">Latency</th>
                                    <th class="px-4 py-3 text-center font-semibold">Scalability</th>
                                    <th class="px-4 py-3 text-center font-semibold">Fault Tolerance</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-gray-200">
                                <tr>
                                    <td class="px-4 py-3 font-medium text-blue-600">gRPC vs REST</td>
                                    <td class="px-4 py-3 text-center text-green-600">7-10x Higher</td>
                                    <td class="px-4 py-3 text-center text-green-600">50% Lower</td>
                                    <td class="px-4 py-3 text-center text-green-600">Excellent</td>
                                    <td class="px-4 py-3 text-center text-green-600">High</td>
                                </tr>
                                <tr>
                                    <td class="px-4 py-3 font-medium text-purple-600">Kafka vs Database Events</td>
                                    <td class="px-4 py-3 text-center text-green-600">100x Higher</td>
                                    <td class="px-4 py-3 text-center text-green-600">90% Lower</td>
                                    <td class="px-4 py-3 text-center text-green-600">Unlimited</td>
                                    <td class="px-4 py-3 text-center text-green-600">Very High</td>
                                </tr>
                                <tr>
                                    <td class="px-4 py-3 font-medium text-indigo-600">Microservices vs Monolith</td>
                                    <td class="px-4 py-3 text-center text-green-600">Per-service</td>
                                    <td class="px-4 py-3 text-center text-yellow-600">Slightly Higher</td>
                                    <td class="px-4 py-3 text-center text-green-600">Independent</td>
                                    <td class="px-4 py-3 text-center text-green-600">Isolated</td>
                                </tr>
                                <tr>
                                    <td class="px-4 py-3 font-medium text-green-600">PostgreSQL vs NoSQL</td>
                                    <td class="px-4 py-3 text-center text-yellow-600">High</td>
                                    <td class="px-4 py-3 text-center text-yellow-600">Consistent</td>
                                    <td class="px-4 py-3 text-center text-green-600">Vertical+Horizontal</td>
                                    <td class="px-4 py-3 text-center text-green-600">ACID Compliant</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Project Structure -->
    <section class="py-16 bg-gray-100">
        <div class="container mx-auto px-6">
            <h2 class="text-4xl font-bold text-center mb-12 text-gray-800">Project Structure</h2>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <!-- Backend Structure -->
                <div class="bg-white rounded-lg shadow-lg p-6">
                    <h3 class="text-2xl font-bold mb-6 text-gray-800">Backend (bm-backend)</h3>
                    <div class="folder-tree text-sm">
<pre>
<span class="folder">bm-backend/</span>
‚îú‚îÄ‚îÄ <span class="folder">apps/</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">api-gateway/</span>          <span class="text-gray-400"># Main API Gateway</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">src/</span>
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="component">auth/</span>         <span class="text-gray-400"># Authentication</span>
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="component">products/</span>     <span class="text-gray-400"># Product endpoints</span>
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="component">users/</span>        <span class="text-gray-400"># User endpoints</span>
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="component">vendors/</span>      <span class="text-gray-400"># Vendor endpoints</span>
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="component">orders/</span>       <span class="text-gray-400"># Order endpoints</span>
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="config">package.json</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">product-service/</span>      <span class="text-gray-400"># Product Management</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">src/</span>
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="component">product/</span>      <span class="text-gray-400"># Product logic</span>
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="component">category/</span>     <span class="text-gray-400"># Category logic</span>
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="component">brand/</span>        <span class="text-gray-400"># Brand logic</span>
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="folder">prisma/</span>
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ <span class="config">schema.prisma</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">user-service/</span>         <span class="text-gray-400"># User Management</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">src/</span>
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="component">auth/</span>         <span class="text-gray-400"># Authentication</span>
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="component">users/</span>        <span class="text-gray-400"># User CRUD</span>
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="component">profile/</span>      <span class="text-gray-400"># Profile management</span>
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="folder">prisma/</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">vendor-service/</span>       <span class="text-gray-400"># Vendor Management</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">src/</span>
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="component">vendors/</span>      <span class="text-gray-400"># Vendor CRUD</span>
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="component">stores/</span>       <span class="text-gray-400"># Store management</span>
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="folder">prisma/</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">order-service/</span>        <span class="text-gray-400"># Order Management</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">src/</span>
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="component">orders/</span>       <span class="text-gray-400"># Order processing</span>
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="component">cart/</span>         <span class="text-gray-400"># Shopping cart</span>
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="component">payment/</span>      <span class="text-gray-400"># Payment processing</span>
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="folder">prisma/</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">notification-service/</span>  <span class="text-gray-400"># Notifications</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">src/</span>
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="component">email/</span>        <span class="text-gray-400"># Email notifications</span>
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="component">sms/</span>          <span class="text-gray-400"># SMS notifications</span>
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="folder">prisma/</span>
‚îÇ   ‚îî‚îÄ‚îÄ <span class="folder">analytical-service/</span>   <span class="text-gray-400"># Analytics & BI</span>
‚îÇ       ‚îú‚îÄ‚îÄ <span class="folder">src/</span>
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ <span class="component">analytics/</span>     <span class="text-gray-400"># Data analytics engine</span>
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ <span class="component">reports/</span>       <span class="text-gray-400"># Business reports</span>
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ <span class="component">insights/</span>      <span class="text-gray-400"># Business insights</span>
‚îÇ       ‚îî‚îÄ‚îÄ <span class="folder">prisma/</span>
‚îú‚îÄ‚îÄ <span class="folder">libs/</span>                     <span class="text-gray-400"># Shared libraries</span>
‚îÇ   ‚îî‚îÄ‚îÄ <span class="folder">shared/</span>
‚îÇ       ‚îú‚îÄ‚îÄ <span class="file">dto/</span>               <span class="text-gray-400"># Data transfer objects</span>
‚îÇ       ‚îú‚îÄ‚îÄ <span class="file">prisma/</span>            <span class="text-gray-400"># Database connections</span>
‚îÇ       ‚îî‚îÄ‚îÄ <span class="file">services/</span>          <span class="text-gray-400"># Shared services</span>
‚îú‚îÄ‚îÄ <span class="folder">proto/</span>                   <span class="text-gray-400"># gRPC Protocol files</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="config">product.proto</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="config">user.proto</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="config">vendor.proto</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="config">order.proto</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="config">notification.proto</span>
‚îÇ   ‚îî‚îÄ‚îÄ <span class="config">analytical.proto</span>
‚îî‚îÄ‚îÄ <span class="config">docker-compose.yml</span>       <span class="text-gray-400"># Container orchestration</span>
</pre>
                    </div>
                </div>

                <!-- Frontend Structure -->
                <div class="bg-white rounded-lg shadow-lg p-6">
                    <h3 class="text-2xl font-bold mb-6 text-gray-800">Frontend Applications</h3>
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <!-- Web Applications -->
                        <div>
                            <h4 class="text-lg font-semibold text-blue-600 mb-4">üåê Web Applications (Next.js)</h4>
                            <div class="folder-tree text-sm">
<pre>
<span class="folder">bm-frontend/</span>                 <span class="text-gray-400"># Customer Portal</span>
‚îú‚îÄ‚îÄ <span class="folder">src/</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">app/</span>                  <span class="text-gray-400"># Next.js App Router</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="component">auth/</span>          <span class="text-gray-400"># Authentication pages</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="component">products/</span>      <span class="text-gray-400"># Product pages</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="component">cart/</span>          <span class="text-gray-400"># Shopping cart</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="component">checkout/</span>      <span class="text-gray-400"># Checkout process</span>
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="component">profile/</span>       <span class="text-gray-400"># User profile</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">components/</span>           <span class="text-gray-400"># Reusable components</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="component">ui/</span>            <span class="text-gray-400"># UI components</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="component">forms/</span>         <span class="text-gray-400"># Form components</span>
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="component">layout/</span>        <span class="text-gray-400"># Layout components</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">redux/</span>                <span class="text-gray-400"># State management</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">store.ts</span>
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="folder">api/</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">hooks/</span>                <span class="text-gray-400"># Custom React hooks</span>
‚îÇ   ‚îî‚îÄ‚îÄ <span class="folder">lib/</span>                  <span class="text-gray-400"># Utilities</span>
‚îî‚îÄ‚îÄ <span class="config">next.config.ts</span>

<span class="folder">bm-seller/</span>                   <span class="text-gray-400"># Vendor Dashboard</span>
‚îú‚îÄ‚îÄ <span class="folder">src/</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">app/</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="component">dashboard/</span>      <span class="text-gray-400"># Main dashboard</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="component">products/</span>      <span class="text-gray-400"># Product management</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="component">orders/</span>        <span class="text-gray-400"># Order management</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="component">analytics/</span>     <span class="text-gray-400"># Sales analytics</span>
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="component">settings/</span>      <span class="text-gray-400"># Store settings</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">components/</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="component">charts/</span>        <span class="text-gray-400"># Analytics charts</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="component">tables/</span>        <span class="text-gray-400"># Data tables</span>
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="component">forms/</span>         <span class="text-gray-400"># Product forms</span>
‚îÇ   ‚îî‚îÄ‚îÄ <span class="folder">redux/</span>
‚îî‚îÄ‚îÄ <span class="config">next.config.ts</span>

<span class="folder">bm-operation/</span>                <span class="text-gray-400"># Admin Panel</span>
‚îú‚îÄ‚îÄ <span class="folder">src/</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">app/</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="component">dashboard/</span>      <span class="text-gray-400"># Admin dashboard</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="component">products/</span>      <span class="text-gray-400"># Product approval</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="component">vendors/</span>       <span class="text-gray-400"># Vendor management</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="component">users/</span>         <span class="text-gray-400"># User management</span>
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="component">analytics/</span>     <span class="text-gray-400"># System analytics</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">components/</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="component">modals/</span>        <span class="text-gray-400"># Modal dialogs</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="component">tables/</span>        <span class="text-gray-400"># Data management</span>
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="component">charts/</span>        <span class="text-gray-400"># Analytics</span>
‚îÇ   ‚îî‚îÄ‚îÄ <span class="folder">redux/</span>
‚îî‚îÄ‚îÄ <span class="config">next.config.ts</span>
</pre>
                            </div>
                        </div>

                        <!-- Mobile Applications -->
                        <div>
                            <h4 class="text-lg font-semibold text-green-600 mb-4">üì± Mobile Applications (React Native)</h4>
                            <div class="folder-tree text-sm">
<pre>
<span class="folder">bm-mobile-android/</span>           <span class="text-gray-400"># Android App</span>
‚îú‚îÄ‚îÄ <span class="folder">src/</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">screens/</span>              <span class="text-gray-400"># App screens</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="component">Home/</span>           <span class="text-gray-400"># Home & discovery</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="component">Products/</span>       <span class="text-gray-400"># Product browsing</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="component">Cart/</span>           <span class="text-gray-400"># Shopping cart</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="component">Auth/</span>           <span class="text-gray-400"># Login/Register</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="component">Profile/</span>        <span class="text-gray-400"># User profile</span>
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="component">Orders/</span>         <span class="text-gray-400"># Order history</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">components/</span>           <span class="text-gray-400"># Reusable components</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="component">UI/</span>             <span class="text-gray-400"># Custom UI elements</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="component">Navigation/</span>     <span class="text-gray-400"># Navigation components</span>
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="component">Forms/</span>          <span class="text-gray-400"># Form components</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">services/</span>             <span class="text-gray-400"># API services</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">api.ts</span>              <span class="text-gray-400"># API client</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">auth.ts</span>             <span class="text-gray-400"># Authentication</span>
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">notifications.ts</span>    <span class="text-gray-400"># Push notifications</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">store/</span>                <span class="text-gray-400"># Redux store</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">store.ts</span>
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="folder">slices/</span>
‚îÇ   ‚îî‚îÄ‚îÄ <span class="folder">utils/</span>                <span class="text-gray-400"># Utilities</span>
‚îú‚îÄ‚îÄ <span class="folder">android/</span>                  <span class="text-gray-400"># Android specific</span>
‚îú‚îÄ‚îÄ <span class="config">package.json</span>
‚îî‚îÄ‚îÄ <span class="config">react-native.config.js</span>

<span class="folder">bm-mobile-ios/</span>               <span class="text-gray-400"># iOS App</span>
‚îú‚îÄ‚îÄ <span class="folder">src/</span>                      <span class="text-gray-400"># Shared codebase</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">screens/</span>              <span class="text-gray-400"># Same as Android</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">components/</span>           <span class="text-gray-400"># iOS optimized</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">services/</span>             <span class="text-gray-400"># API integration</span>
‚îÇ   ‚îî‚îÄ‚îÄ <span class="folder">store/</span>                <span class="text-gray-400"># State management</span>
‚îú‚îÄ‚îÄ <span class="folder">ios/</span>                      <span class="text-gray-400"># iOS specific</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">Info.plist</span>             <span class="text-gray-400"># App configuration</span>
‚îÇ   ‚îî‚îÄ‚îÄ <span class="folder">BanglaMarket/</span>         <span class="text-gray-400"># Native iOS code</span>
‚îú‚îÄ‚îÄ <span class="config">package.json</span>
‚îî‚îÄ‚îÄ <span class="config">metro.config.js</span>
</pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Technology Stack -->
    <section class="py-16 bg-white">
        <div class="container mx-auto px-6">
            <h2 class="text-4xl font-bold text-center mb-12 text-gray-800">Technology Stack</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <div class="card-hover bg-gradient-to-br from-blue-400 to-blue-600 p-6 rounded-lg text-white">
                    <h3 class="text-xl font-bold mb-4">Frontend</h3>
                    <ul class="space-y-2 text-sm">
                        <li>‚Ä¢ Next.js 14 (Web)</li>
                        <li>‚Ä¢ React 18</li>
                        <li>‚Ä¢ React Native (Mobile)</li>
                        <li>‚Ä¢ TypeScript</li>
                        <li>‚Ä¢ Tailwind CSS</li>
                        <li>‚Ä¢ Redux Toolkit</li>
                        <li>‚Ä¢ React Hook Form</li>
                    </ul>
                </div>
                <div class="card-hover bg-gradient-to-br from-green-400 to-green-600 p-6 rounded-lg text-white">
                    <h3 class="text-xl font-bold mb-4">Backend</h3>
                    <ul class="space-y-2 text-sm">
                        <li>‚Ä¢ NestJS</li>
                        <li>‚Ä¢ Node.js</li>
                        <li>‚Ä¢ TypeScript</li>
                        <li>‚Ä¢ gRPC</li>
                        <li>‚Ä¢ Kafka</li>
                        <li>‚Ä¢ Microservices</li>
                        <li>‚Ä¢ JWT Auth</li>
                    </ul>
                </div>
                <div class="card-hover bg-gradient-to-br from-purple-400 to-purple-600 p-6 rounded-lg text-white">
                    <h3 class="text-xl font-bold mb-4">Database</h3>
                    <ul class="space-y-2 text-sm">
                        <li>‚Ä¢ PostgreSQL</li>
                        <li>‚Ä¢ Prisma ORM</li>
                        <li>‚Ä¢ Database per Service</li>
                        <li>‚Ä¢ Migrations</li>
                        <li>‚Ä¢ Schema Management</li>
                        <li>‚Ä¢ Query Optimization</li>
                    </ul>
                </div>
                <div class="card-hover bg-gradient-to-br from-red-400 to-red-600 p-6 rounded-lg text-white">
                    <h3 class="text-xl font-bold mb-4">DevOps</h3>
                    <ul class="space-y-2 text-sm">
                        <li>‚Ä¢ Docker</li>
                        <li>‚Ä¢ Docker Compose</li>
                        <li>‚Ä¢ ESLint</li>
                        <li>‚Ä¢ Prettier</li>
                        <li>‚Ä¢ Git</li>
                        <li>‚Ä¢ Environment Config</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Features & Statistics -->
    <section class="py-16 bg-gray-100">
        <div class="container mx-auto px-6">
            <h2 class="text-4xl font-bold text-center mb-12 text-gray-800">Platform Features</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Customer Features -->
                <div class="bg-white p-6 rounded-lg shadow-lg card-hover">
                    <div class="text-blue-500 text-3xl mb-4">üõí</div>
                    <h3 class="text-xl font-bold mb-4">Customer Portal</h3>
                    <ul class="text-gray-600 space-y-2">
                        <li>‚Ä¢ Product Browse & Search</li>
                        <li>‚Ä¢ Shopping Cart</li>
                        <li>‚Ä¢ Order Tracking</li>
                        <li>‚Ä¢ User Reviews</li>
                        <li>‚Ä¢ Wishlist</li>
                        <li>‚Ä¢ Payment Integration</li>
                    </ul>
                </div>

                <!-- Vendor Features -->
                <div class="bg-white p-6 rounded-lg shadow-lg card-hover">
                    <div class="text-green-500 text-3xl mb-4">üè™</div>
                    <h3 class="text-xl font-bold mb-4">Vendor Dashboard</h3>
                    <ul class="text-gray-600 space-y-2">
                        <li>‚Ä¢ Product Management</li>
                        <li>‚Ä¢ Inventory Control</li>
                        <li>‚Ä¢ Order Processing</li>
                        <li>‚Ä¢ Sales Analytics</li>
                        <li>‚Ä¢ Revenue Reports</li>
                        <li>‚Ä¢ Store Configuration</li>
                    </ul>
                </div>

                <!-- Admin Features -->
                <div class="bg-white p-6 rounded-lg shadow-lg card-hover">
                    <div class="text-purple-500 text-3xl mb-4">‚ö°</div>
                    <h3 class="text-xl font-bold mb-4">Admin Panel</h3>
                    <ul class="text-gray-600 space-y-2">
                        <li>‚Ä¢ Product Approval System</li>
                        <li>‚Ä¢ Vendor Management</li>
                        <li>‚Ä¢ User Administration</li>
                        <li>‚Ä¢ System Analytics</li>
                        <li>‚Ä¢ Content Management</li>
                        <li>‚Ä¢ Platform Configuration</li>
                    </ul>
                </div>

                <!-- Technical Features -->
                <div class="bg-white p-6 rounded-lg shadow-lg card-hover">
                    <div class="text-red-500 text-3xl mb-4">üîß</div>
                    <h3 class="text-xl font-bold mb-4">Technical Features</h3>
                    <ul class="text-gray-600 space-y-2">
                        <li>‚Ä¢ Microservices Architecture</li>
                        <li>‚Ä¢ Real-time Updates</li>
                        <li>‚Ä¢ API Gateway</li>
                        <li>‚Ä¢ gRPC Communication</li>
                        <li>‚Ä¢ Database Optimization</li>
                        <li>‚Ä¢ Scalable Infrastructure</li>
                    </ul>
                </div>

                <!-- Security Features -->
                <div class="bg-white p-6 rounded-lg shadow-lg card-hover">
                    <div class="text-yellow-500 text-3xl mb-4">üîí</div>
                    <h3 class="text-xl font-bold mb-4">Security</h3>
                    <ul class="text-gray-600 space-y-2">
                        <li>‚Ä¢ JWT Authentication</li>
                        <li>‚Ä¢ Role-based Access</li>
                        <li>‚Ä¢ Data Encryption</li>
                        <li>‚Ä¢ Secure API Endpoints</li>
                        <li>‚Ä¢ Input Validation</li>
                        <li>‚Ä¢ Rate Limiting</li>
                    </ul>
                </div>

                <!-- Performance Features -->
                <div class="bg-white p-6 rounded-lg shadow-lg card-hover">
                    <div class="text-indigo-500 text-3xl mb-4">‚ö°</div>
                    <h3 class="text-xl font-bold mb-4">Performance</h3>
                    <ul class="text-gray-600 space-y-2">
                        <li>‚Ä¢ Server-Side Rendering</li>
                        <li>‚Ä¢ Optimized Queries</li>
                        <li>‚Ä¢ Caching Strategies</li>
                        <li>‚Ä¢ Lazy Loading</li>
                        <li>‚Ä¢ Image Optimization</li>
                        <li>‚Ä¢ Bundle Optimization</li>
                    </ul>
                </div>

                <!-- Mobile Features -->
                <div class="bg-white p-6 rounded-lg shadow-lg card-hover">
                    <div class="text-green-500 text-3xl mb-4">üì±</div>
                    <h3 class="text-xl font-bold mb-4">Mobile Apps</h3>
                    <ul class="text-gray-600 space-y-2">
                        <li>‚Ä¢ Native Android App</li>
                        <li>‚Ä¢ Native iOS App</li>
                        <li>‚Ä¢ Push Notifications</li>
                        <li>‚Ä¢ Offline Support</li>
                        <li>‚Ä¢ Touch ID/Face ID</li>
                        <li>‚Ä¢ Deep Linking</li>
                    </ul>
                </div>

                <!-- Cross-Platform Features -->
                <div class="bg-white p-6 rounded-lg shadow-lg card-hover">
                    <div class="text-purple-500 text-3xl mb-4">üåê</div>
                    <h3 class="text-xl font-bold mb-4">Cross-Platform</h3>
                    <ul class="text-gray-600 space-y-2">
                        <li>‚Ä¢ Unified API Integration</li>
                        <li>‚Ä¢ Shared Business Logic</li>
                        <li>‚Ä¢ Consistent User Experience</li>
                        <li>‚Ä¢ Real-time Synchronization</li>
                        <li>‚Ä¢ Progressive Web App</li>
                        <li>‚Ä¢ Responsive Design</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Development Statistics -->
    <section class="py-16 bg-white">
        <div class="container mx-auto px-6">
            <h2 class="text-4xl font-bold text-center mb-12 text-gray-800">Development Statistics</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                <div class="text-center p-6 bg-blue-50 rounded-lg">
                    <div class="text-4xl font-bold text-blue-600 mb-2">15,000+</div>
                    <div class="text-gray-600">Lines of Code</div>
                </div>
                <div class="text-center p-6 bg-green-50 rounded-lg">
                    <div class="text-4xl font-bold text-green-600 mb-2">500+</div>
                    <div class="text-gray-600">API Endpoints</div>
                </div>
                <div class="text-center p-6 bg-purple-50 rounded-lg">
                    <div class="text-4xl font-bold text-purple-600 mb-2">100+</div>
                    <div class="text-gray-600">Components</div>
                </div>
                <div class="text-center p-6 bg-red-50 rounded-lg">
                    <div class="text-4xl font-bold text-red-600 mb-2">25+</div>
                    <div class="text-gray-600">Database Tables</div>
                </div>
            </div>

            <!-- Technology Distribution Chart -->
            <div class="mt-16">
                <h3 class="text-2xl font-bold text-center mb-8">Technology Distribution</h3>
                <div class="max-w-md mx-auto">
                    <canvas id="techChart" width="400" height="400"></canvas>
                </div>
            </div>
        </div>
    </section>

    <!-- API Documentation -->
    <section class="py-16 bg-gray-100">
        <div class="container mx-auto px-6">
            <h2 class="text-4xl font-bold text-center mb-12 text-gray-800">API Endpoints Overview</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <h3 class="text-xl font-bold mb-4 text-blue-600">Product Service</h3>
                    <div class="space-y-2 text-sm">
                        <div class="flex justify-between">
                            <span class="bg-green-100 text-green-800 px-2 py-1 rounded">GET</span>
                            <span>/api/v1/products</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="bg-blue-100 text-blue-800 px-2 py-1 rounded">POST</span>
                            <span>/api/v1/products</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="bg-yellow-100 text-yellow-800 px-2 py-1 rounded">PUT</span>
                            <span>/api/v1/products/:id</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="bg-red-100 text-red-800 px-2 py-1 rounded">DEL</span>
                            <span>/api/v1/products/:id</span>
                        </div>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <h3 class="text-xl font-bold mb-4 text-green-600">User Service</h3>
                    <div class="space-y-2 text-sm">
                        <div class="flex justify-between">
                            <span class="bg-blue-100 text-blue-800 px-2 py-1 rounded">POST</span>
                            <span>/api/v1/auth/login</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="bg-blue-100 text-blue-800 px-2 py-1 rounded">POST</span>
                            <span>/api/v1/auth/register</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="bg-green-100 text-green-800 px-2 py-1 rounded">GET</span>
                            <span>/api/v1/users/profile</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="bg-yellow-100 text-yellow-800 px-2 py-1 rounded">PUT</span>
                            <span>/api/v1/users/profile</span>
                        </div>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <h3 class="text-xl font-bold mb-4 text-purple-600">Order Service</h3>
                    <div class="space-y-2 text-sm">
                        <div class="flex justify-between">
                            <span class="bg-green-100 text-green-800 px-2 py-1 rounded">GET</span>
                            <span>/api/v1/orders</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="bg-blue-100 text-blue-800 px-2 py-1 rounded">POST</span>
                            <span>/api/v1/orders</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="bg-yellow-100 text-yellow-800 px-2 py-1 rounded">PUT</span>
                            <span>/api/v1/orders/:id/status</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="bg-green-100 text-green-800 px-2 py-1 rounded">GET</span>
                            <span>/api/v1/cart</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Deployment & Infrastructure -->
    <section class="py-16 bg-white">
        <div class="container mx-auto px-6">
            <h2 class="text-4xl font-bold text-center mb-12 text-gray-800">Deployment Architecture</h2>
            <div class="max-w-4xl mx-auto">
                <div class="bg-gray-50 p-8 rounded-lg">
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                        <div class="text-center">
                            <div class="bg-blue-500 text-white p-4 rounded-lg mb-4">
                                <h3 class="font-bold">Development</h3>
                            </div>
                            <ul class="text-sm space-y-1">
                                <li>‚Ä¢ Docker Compose</li>
                                <li>‚Ä¢ Local Development</li>
                                <li>‚Ä¢ Hot Reload</li>
                                <li>‚Ä¢ Debug Mode</li>
                            </ul>
                        </div>
                        <div class="text-center">
                            <div class="bg-green-500 text-white p-4 rounded-lg mb-4">
                                <h3 class="font-bold">Staging</h3>
                            </div>
                            <ul class="text-sm space-y-1">
                                <li>‚Ä¢ Container Registry</li>
                                <li>‚Ä¢ CI/CD Pipeline</li>
                                <li>‚Ä¢ Automated Testing</li>
                                <li>‚Ä¢ Performance Testing</li>
                            </ul>
                        </div>
                        <div class="text-center">
                            <div class="bg-purple-500 text-white p-4 rounded-lg mb-4">
                                <h3 class="font-bold">Production</h3>
                            </div>
                            <ul class="text-sm space-y-1">
                                <li>‚Ä¢ Load Balancing</li>
                                <li>‚Ä¢ Auto Scaling</li>
                                <li>‚Ä¢ Monitoring</li>
                                <li>‚Ä¢ Backup & Recovery</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="gradient-bg text-white py-12">
        <div class="container mx-auto px-6 text-center">
            <h2 class="text-3xl font-bold mb-4">Ready to Scale Your E-commerce Business?</h2>
            <p class="text-lg mb-8">Join the next generation of multi-vendor marketplaces</p>
            <div class="flex justify-center space-x-6">
                <div class="text-center">
                    <div class="text-2xl font-bold">üöÄ</div>
                    <div class="text-sm">Scalable</div>
                </div>
                <div class="text-center">
                    <div class="text-2xl font-bold">‚ö°</div>
                    <div class="text-sm">Fast</div>
                </div>
                <div class="text-center">
                    <div class="text-2xl font-bold">üîí</div>
                    <div class="text-sm">Secure</div>
                </div>
                <div class="text-center">
                    <div class="text-2xl font-bold">üåê</div>
                    <div class="text-sm">Global</div>
                </div>
            </div>
            <div class="mt-8 text-sm">
                <p>&copy; 2025 Bangla Market. Built with ‚ù§Ô∏è using modern technologies.</p>
            </div>
        </div>
    </footer>

    <script>
        // Technology Distribution Chart
        const ctx = document.getElementById('techChart').getContext('2d');
        new Chart(ctx, {
            type: 'doughnut',
            data: {
                labels: ['Frontend (Next.js)', 'Backend (NestJS)', 'Database (PostgreSQL)', 'DevOps (Docker)', 'Others'],
                datasets: [{
                    data: [35, 30, 15, 10, 10],
                    backgroundColor: [
                        '#3B82F6',
                        '#10B981',
                        '#8B5CF6',
                        '#F59E0B',
                        '#EF4444'
                    ],
                    borderWidth: 2,
                    borderColor: '#fff'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: true,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: {
                            padding: 20,
                            usePointStyle: true
                        }
                    }
                }
            }
        });

        // Network Graph Visualization for Backend Services
        const container = document.getElementById('networkGraph');
        if (container) {
            const nodes = new vis.DataSet([
                // Client Layer
                {id: 1, label: 'Web Apps\n(Next.js)', color: '#4facfe', shape: 'ellipse', size: 25, font: {size: 10}, level: 0},
                {id: 14, label: 'Mobile Apps\n(React Native)', color: '#00d4ff', shape: 'ellipse', size: 25, font: {size: 10}, level: 0},
                
                // API Gateway
                {id: 2, label: 'API Gateway\n:50050\n(NestJS)', color: '#f093fb', shape: 'box', size: 35, font: {size: 11}, level: 1},
                
                // Kafka Event Broker
                {id: 3, label: 'Kafka\nEvent Broker\n(Message Queue)', color: '#ff6b6b', shape: 'diamond', size: 40, font: {size: 11}, level: 2},
                
                // Core Services
                {id: 4, label: 'User Service\n:50051\n(Auth & Profile)', color: '#667eea', shape: 'box', size: 30, font: {size: 9}, level: 3},
                {id: 5, label: 'Product Service\n:50052\n(Catalog & Inventory)', color: '#667eea', shape: 'box', size: 30, font: {size: 9}, level: 3},
                {id: 6, label: 'Order Service\n:50053\n(Processing & Payment)', color: '#667eea', shape: 'box', size: 30, font: {size: 9}, level: 3},
                {id: 7, label: 'Vendor Service\n:50054\n(Store Management)', color: '#667eea', shape: 'box', size: 30, font: {size: 9}, level: 3},
                {id: 8, label: 'Notification\n:50055\n(Email/SMS/Push)', color: '#667eea', shape: 'box', size: 30, font: {size: 9}, level: 3},
                {id: 15, label: 'Analytical\n:50056\n(Data Analytics)', color: '#667eea', shape: 'box', size: 30, font: {size: 9}, level: 3},
                
                // Database Layer - Separate DB per service
                {id: 9, label: 'User DB\n(PostgreSQL)\nPrisma ORM', color: '#336791', shape: 'cylinder', size: 20, font: {size: 8}, level: 4},
                {id: 10, label: 'Product DB\n(PostgreSQL)\nPrisma ORM', color: '#336791', shape: 'cylinder', size: 20, font: {size: 8}, level: 4},
                {id: 11, label: 'Order DB\n(PostgreSQL)\nPrisma ORM', color: '#336791', shape: 'cylinder', size: 20, font: {size: 8}, level: 4},
                {id: 12, label: 'Vendor DB\n(PostgreSQL)\nPrisma ORM', color: '#336791', shape: 'cylinder', size: 20, font: {size: 8}, level: 4},
                {id: 13, label: 'Notification DB\n(PostgreSQL)\nPrisma ORM', color: '#336791', shape: 'cylinder', size: 20, font: {size: 8}, level: 4},
                {id: 16, label: 'Analytics DB\n(PostgreSQL)\n+ ClickHouse', color: '#336791', shape: 'cylinder', size: 20, font: {size: 8}, level: 4}
            ]);

            const edges = new vis.DataSet([
                // Client to Gateway
                {from: 1, to: 2, color: '#4facfe', width: 4, label: 'HTTP/REST\nRequests', font: {size: 8, color: '#4facfe'}, smooth: {type: 'continuous'}},
                {from: 14, to: 2, color: '#00d4ff', width: 4, label: 'HTTP/REST\n+ Push Notifications', font: {size: 8, color: '#00d4ff'}, smooth: {type: 'continuous'}},
                
                // Gateway to Services (Synchronous gRPC)
                {from: 2, to: 4, color: '#667eea', width: 2, label: 'gRPC', font: {size: 7}, dashes: true, smooth: {type: 'continuous'}},
                {from: 2, to: 5, color: '#667eea', width: 2, label: 'gRPC', font: {size: 7}, dashes: true, smooth: {type: 'continuous'}},
                {from: 2, to: 6, color: '#667eea', width: 2, label: 'gRPC', font: {size: 7}, dashes: true, smooth: {type: 'continuous'}},
                {from: 2, to: 7, color: '#667eea', width: 2, label: 'gRPC', font: {size: 7}, dashes: true, smooth: {type: 'continuous'}},
                {from: 2, to: 8, color: '#667eea', width: 2, label: 'gRPC', font: {size: 7}, dashes: true, smooth: {type: 'continuous'}},
                {from: 2, to: 15, color: '#667eea', width: 2, label: 'gRPC', font: {size: 7}, dashes: true, smooth: {type: 'continuous'}},
                
                // Services to Kafka (Event Publishing)
                {from: 4, to: 3, color: '#ff6b6b', width: 2, label: 'user.events', font: {size: 7, color: '#ff6b6b'}, dashes: [8,3], smooth: {type: 'continuous'}},
                {from: 5, to: 3, color: '#ff6b6b', width: 2, label: 'product.events', font: {size: 7, color: '#ff6b6b'}, dashes: [8,3], smooth: {type: 'continuous'}},
                {from: 6, to: 3, color: '#ff6b6b', width: 3, label: 'order.events', font: {size: 7, color: '#ff6b6b'}, dashes: [8,3], smooth: {type: 'continuous'}},
                {from: 7, to: 3, color: '#ff6b6b', width: 2, label: 'vendor.events', font: {size: 7, color: '#ff6b6b'}, dashes: [8,3], smooth: {type: 'continuous'}},
                {from: 8, to: 3, color: '#ff6b6b', width: 2, label: 'notification.sent', font: {size: 7, color: '#ff6b6b'}, dashes: [8,3], smooth: {type: 'continuous'}},
                {from: 15, to: 3, color: '#ff6b6b', width: 2, label: 'analytics.events', font: {size: 7, color: '#ff6b6b'}, dashes: [8,3], smooth: {type: 'continuous'}},
                
                // Kafka to Services (Event Consumption) - Analytics consumes ALL events
                {from: 3, to: 15, color: '#ffa500', width: 3, label: 'all events\nconsumer', font: {size: 7, color: '#ffa500'}, dashes: [5,5], smooth: {type: 'continuous'}},
                {from: 3, to: 4, color: '#ffa500', width: 2, label: 'consumes\nevents', font: {size: 7, color: '#ffa500'}, dashes: [5,5], smooth: {type: 'continuous'}},
                {from: 3, to: 5, color: '#ffa500', width: 2, label: 'inventory\nupdates', font: {size: 7, color: '#ffa500'}, dashes: [5,5], smooth: {type: 'continuous'}},
                {from: 3, to: 7, color: '#ffa500', width: 2, label: 'vendor\nnotifications', font: {size: 7, color: '#ffa500'}, dashes: [5,5], smooth: {type: 'continuous'}},
                {from: 3, to: 8, color: '#ffa500', width: 3, label: 'trigger\nnotifications', font: {size: 7, color: '#ffa500'}, dashes: [5,5], smooth: {type: 'continuous'}},
                
                // Services to Their Own Databases (One-to-One)
                {from: 4, to: 9, color: '#336791', width: 2, label: 'Owns DB', font: {size: 6}, smooth: {type: 'continuous'}},
                {from: 5, to: 10, color: '#336791', width: 2, label: 'Owns DB', font: {size: 6}, smooth: {type: 'continuous'}},
                {from: 6, to: 11, color: '#336791', width: 2, label: 'Owns DB', font: {size: 6}, smooth: {type: 'continuous'}},
                {from: 7, to: 12, color: '#336791', width: 2, label: 'Owns DB', font: {size: 6}, smooth: {type: 'continuous'}},
                {from: 8, to: 13, color: '#336791', width: 2, label: 'Owns DB', font: {size: 6}, smooth: {type: 'continuous'}},
                {from: 15, to: 16, color: '#336791', width: 2, label: 'Owns DB', font: {size: 6}, smooth: {type: 'continuous'}},
                
                // Data Population (Cross-service sync via gRPC - NOT direct DB access)
                {from: 6, to: 4, color: '#10b981', width: 1, label: 'user data\nvia gRPC', font: {size: 6, color: '#10b981'}, dashes: [3,3], smooth: {type: 'curvedCW'}},
                {from: 6, to: 5, color: '#10b981', width: 1, label: 'product data\nvia gRPC', font: {size: 6, color: '#10b981'}, dashes: [3,3], smooth: {type: 'curvedCW'}},
                {from: 7, to: 4, color: '#10b981', width: 1, label: 'user validation\nvia gRPC', font: {size: 6, color: '#10b981'}, dashes: [3,3], smooth: {type: 'curvedCW'}},
                {from: 5, to: 7, color: '#10b981', width: 1, label: 'vendor products\nvia gRPC', font: {size: 6, color: '#10b981'}, dashes: [3,3], smooth: {type: 'curvedCW'}},
                
                // Analytics Data Collection (from all services)
                {from: 15, to: 4, color: '#f59e0b', width: 1, label: 'user analytics\nvia gRPC', font: {size: 6, color: '#f59e0b'}, dashes: [3,3], smooth: {type: 'curvedCW'}},
                {from: 15, to: 5, color: '#f59e0b', width: 1, label: 'product analytics\nvia gRPC', font: {size: 6, color: '#f59e0b'}, dashes: [3,3], smooth: {type: 'curvedCW'}},
                {from: 15, to: 6, color: '#f59e0b', width: 1, label: 'order analytics\nvia gRPC', font: {size: 6, color: '#f59e0b'}, dashes: [3,3], smooth: {type: 'curvedCW'}},
                {from: 15, to: 7, color: '#f59e0b', width: 1, label: 'vendor analytics\nvia gRPC', font: {size: 6, color: '#f59e0b'}, dashes: [3,3], smooth: {type: 'curvedCW'}},
                {from: 15, to: 8, color: '#f59e0b', width: 1, label: 'notification analytics\nvia gRPC', font: {size: 6, color: '#f59e0b'}, dashes: [3,3], smooth: {type: 'curvedCW'}}
            ]);

            const data = { nodes, edges };
            
            const options = {
                nodes: {
                    borderWidth: 2,
                    borderWidthSelected: 3,
                    chosen: true,
                    font: {
                        color: '#ffffff',
                        strokeWidth: 2,
                        strokeColor: '#000000'
                    },
                    shadow: {
                        enabled: true,
                        color: 'rgba(0,0,0,0.2)',
                        size: 10,
                        x: 2,
                        y: 2
                    }
                },
                edges: {
                    width: 2,
                    smooth: {
                        enabled: true,
                        type: 'continuous',
                        roundness: 0.2
                    },
                    arrows: {
                        to: {enabled: true, scaleFactor: 1.2, type: 'arrow'}
                    },
                    shadow: {
                        enabled: true,
                        color: 'rgba(0,0,0,0.1)',
                        size: 5,
                        x: 1,
                        y: 1
                    }
                },
                physics: {
                    enabled: true,
                    stabilization: {iterations: 200},
                    barnesHut: {
                        gravitationalConstant: -3000,
                        centralGravity: 0.1,
                        springLength: 120,
                        springConstant: 0.02,
                        damping: 0.1
                    }
                },
                layout: {
                    hierarchical: {
                        enabled: true,
                        direction: 'UD',
                        sortMethod: 'directed',
                        nodeSpacing: 180,
                        levelSeparation: 120,
                        treeSpacing: 200
                    }
                },
                interaction: {
                    hover: true,
                    tooltipDelay: 200,
                    hideEdgesOnDrag: false
                }
            };

            const network = new vis.Network(container, data, options);
            
            // Add legend
            const legend = document.createElement('div');
            legend.innerHTML = `
                <div class="absolute top-4 right-4 bg-white p-4 rounded-lg shadow-lg border text-xs">
                    <h5 class="font-bold mb-2">Communication & Data</h5>
                    <div class="space-y-1">
                        <div class="flex items-center">
                            <div class="w-4 h-1 bg-blue-500 mr-2"></div>
                            <span>Synchronous gRPC</span>
                        </div>
                        <div class="flex items-center">
                            <div class="w-4 h-1 bg-red-500 mr-2" style="border-top: 2px dashed;"></div>
                            <span>Event Publishing</span>
                        </div>
                        <div class="flex items-center">
                            <div class="w-4 h-1 bg-orange-500 mr-2" style="border-top: 2px dashed;"></div>
                            <span>Event Consumption</span>
                        </div>
                        <div class="flex items-center">
                            <div class="w-4 h-1 bg-green-500 mr-2" style="border-top: 1px dashed;"></div>
                            <span>Cross-Service Data</span>
                        </div>
                        <div class="flex items-center">
                            <div class="w-4 h-1 bg-gray-600 mr-2"></div>
                            <span>Database Ownership</span>
                        </div>
                    </div>
                    <div class="mt-3 pt-2 border-t">
                        <h6 class="font-semibold text-red-600">Database Isolation</h6>
                        <p class="text-xs text-gray-600 mt-1">Each service owns its own PostgreSQL database. No direct cross-database access.</p>
                    </div>
                </div>
            `;
            container.parentElement.style.position = 'relative';
            container.parentElement.appendChild(legend);
        }

        // Add smooth scrolling to navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });

        // Add fade-in animation on scroll
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        // Observe all cards
        document.querySelectorAll('.card-hover, .service-card').forEach(card => {
            card.style.opacity = '0';
            card.style.transform = 'translateY(20px)';
            card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
            observer.observe(card);
        });

        // Animated Request Flow Functionality (dynamic geometry)
        let flowActive = false;

        function centerOf(el) {
            const rect = el.getBoundingClientRect();
            const parent = document.getElementById('requestDiagram').getBoundingClientRect();
            return {
                x: rect.left - parent.left + rect.width / 2,
                y: rect.top - parent.top + rect.height / 2
            };
        }

        function computeGeometry() {
            const user = document.getElementById('user-node');
            const gw = document.getElementById('gateway-node');
            const auth = document.getElementById('auth-node');
            const order = document.getElementById('order-node');
            const product = document.getElementById('product-node');
            const payment = document.getElementById('payment-node');
            const kafka = document.getElementById('kafka-node');
            const packet = document.getElementById('request-packet');
            const activeFlow = document.getElementById('active-flow');
            if (!user || !gw || !auth || !order || !product || !payment || !kafka || !packet || !activeFlow) return null;

            const pUser = centerOf(user);
            const pGw = centerOf(gw);
            const pAuth = centerOf(auth);
            const pOrder = centerOf(order);
            const pProduct = centerOf(product);
            const pPayment = centerOf(payment);
            const pKafka = centerOf(kafka);

            // Clip a line from A->B to the border of source and target rectangles
            function clipPointTowards(srcCenter, dstCenter, el) {
                const rect = el.getBoundingClientRect();
                const parent = document.getElementById('requestDiagram').getBoundingClientRect();
                const hw = rect.width / 2;
                const hh = rect.height / 2;
                const vx = dstCenter.x - srcCenter.x;
                const vy = dstCenter.y - srcCenter.y;
                // Avoid division by zero
                const denom = Math.max(Math.abs(vx) / (hw || 1), Math.abs(vy) / (hh || 1)) || 1;
                const s = Math.min(1, 1 / denom);
                return { x: srcCenter.x + vx * s, y: srcCenter.y + vy * s };
            }

            function clipSegment(aEl, bEl) {
                const aC = centerOf(aEl);
                const bC = centerOf(bEl);
                const aEdge = clipPointTowards(aC, bC, aEl);
                const bEdge = clipPointTowards(bC, aC, bEl);
                return [aEdge, bEdge];
            }

            // Helper to set path d with a smooth quadratic curve
            const makeQ = (a, b, curve = 0.25) => {
                const cx = a.x + (b.x - a.x) * curve;
                const cy = a.y + (b.y - a.y) * curve;
                return `M ${a.x} ${a.y} Q ${cx} ${cy} ${b.x} ${b.y}`;
            };

            const paths = activeFlow.querySelectorAll('.flow-path');
            const segments = [
                clipSegment(user, gw),        // 0 user -> gateway
                clipSegment(gw, auth),        // 1 gateway -> auth
                clipSegment(auth, gw),        // 2 auth -> gateway
                clipSegment(gw, order),       // 3 gateway -> order
                clipSegment(order, product),  // 4 order -> product
                clipSegment(product, payment),// 5 product -> payment
                clipSegment(payment, kafka),  // 6 payment -> kafka
                clipSegment(kafka, gw),       // 7 kafka -> gateway
                clipSegment(gw, user)         // 8 gateway -> user
            ];

            segments.forEach((seg, i) => {
                if (paths[i]) {
                    paths[i].setAttribute('d', makeQ(seg[0], seg[1], i === 4 || i === 5 ? 0.35 : 0.25));
                }
            });

            // Compute packet positions slightly offset along the path direction
            function offsetTowards(a, b, t = 0.08) {
                return { top: `${a.y + (b.y - a.y) * t}px`, left: `${a.x + (b.x - a.x) * t}px` };
            }
            function offsetTowardsEnd(a, b, t = 0.92) {
                return { top: `${a.y + (b.y - a.y) * t}px`, left: `${a.x + (b.x - a.x) * t}px` };
            }

            const flowSteps = [
                { from: 'user-node', to: 'gateway-node', message: 'üöÄ User sends order request to API Gateway', packetStart: offsetTowards(segments[0][0], segments[0][1]), packetEnd: offsetTowardsEnd(segments[0][0], segments[0][1]), pathIndex: 0, delay: 0 },
                { from: 'gateway-node', to: 'auth-node', message: 'üîê Gateway forwards request to Auth Service for validation', packetStart: offsetTowards(segments[1][0], segments[1][1]), packetEnd: offsetTowardsEnd(segments[1][0], segments[1][1]), pathIndex: 1, delay: 1500 },
                { from: 'auth-node', to: 'gateway-node', message: '‚úÖ Auth Service validates user and returns token to Gateway', packetStart: offsetTowards(segments[2][0], segments[2][1]), packetEnd: offsetTowardsEnd(segments[2][0], segments[2][1]), pathIndex: 2, delay: 3000 },
                { from: 'gateway-node', to: 'order-node', message: 'üìã Gateway forwards authenticated request to Order Service', packetStart: offsetTowards(segments[3][0], segments[3][1]), packetEnd: offsetTowardsEnd(segments[3][0], segments[3][1]), pathIndex: 3, delay: 4500 },
                { from: 'order-node', to: 'product-node', message: 'üì¶ Order Service checks product inventory and stock availability', packetStart: offsetTowards(segments[4][0], segments[4][1]), packetEnd: offsetTowardsEnd(segments[4][0], segments[4][1]), pathIndex: 4, delay: 6000 },
                { from: 'product-node', to: 'payment-node', message: 'üí≥ Product Service confirms stock, initiates payment processing', packetStart: offsetTowards(segments[5][0], segments[5][1]), packetEnd: offsetTowardsEnd(segments[5][0], segments[5][1]), pathIndex: 5, delay: 7500 },
                { from: 'payment-node', to: 'kafka-node', message: '‚ö° Payment processed successfully, emitting events to Kafka broker', packetStart: offsetTowards(segments[6][0], segments[6][1]), packetEnd: offsetTowardsEnd(segments[6][0], segments[6][1]), pathIndex: 6, delay: 9000 },
                { from: 'kafka-node', to: 'gateway-node', message: 'üîÑ Kafka notifies all services and Gateway of successful completion', packetStart: offsetTowards(segments[7][0], segments[7][1]), packetEnd: offsetTowardsEnd(segments[7][0], segments[7][1]), pathIndex: 7, delay: 10500 },
                { from: 'gateway-node', to: 'user-node', message: 'üéâ Gateway returns successful order confirmation to User', packetStart: offsetTowards(segments[8][0], segments[8][1]), packetEnd: offsetTowardsEnd(segments[8][0], segments[8][1]), pathIndex: 8, delay: 12000 }
            ];

            // initial packet near user's edge towards gateway
            const initial = segments[0][0];
            return { flowSteps, packetStart: { top: `${initial.y}px`, left: `${initial.x}px` } };
        }

        // Sync SVG viewBox to the diagram container so coordinates align 1:1 with CSS pixels
        function syncSvgViewBox() {
            const container = document.getElementById('requestDiagram');
            const active = document.getElementById('active-flow');
            const bg = document.getElementById('flow-bg');
            if (!container || !active || !bg) return;
            const rect = container.getBoundingClientRect();
            const vb = `0 0 ${Math.round(rect.width)} ${Math.round(rect.height)}`;
            active.setAttribute('viewBox', vb);
            bg.setAttribute('viewBox', vb);
        }

        function startRequestFlow() {
            if (flowActive) return;
            
            flowActive = true;
            const packet = document.getElementById('request-packet');
            const statusMessage = document.getElementById('status-message');
            const flowPaths = document.querySelectorAll('.flow-path');
            syncSvgViewBox();
            const geom = computeGeometry();
            if (!geom) return;
            
            // Reset all states
            document.querySelectorAll('.service-node').forEach(node => {
                node.classList.remove('active', 'processing');
            });
            
            flowPaths.forEach(path => {
                path.classList.remove('active');
            });

            // Initial packet position (user center)
            packet.style.top = geom.packetStart.top;
            packet.style.left = geom.packetStart.left;
            packet.classList.add('moving');

            // Execute flow steps
            geom.flowSteps.forEach((step, index) => {
                setTimeout(() => {
                    // Update status message with animation
                    statusMessage.innerHTML = `<div class="status-update font-semibold text-blue-700">${step.message}</div>`;
                    
                    // Reset previous states
                    document.querySelectorAll('.service-node').forEach(node => {
                        node.classList.remove('active', 'processing');
                    });
                    
                    // Activate current nodes
                    const fromNode = document.getElementById(step.from);
                    const toNode = document.getElementById(step.to);
                    
                    fromNode.classList.add('active');
                    
                    // Activate flow path
                    if (flowPaths[step.pathIndex]) {
                        flowPaths[step.pathIndex].classList.add('active');
                    }
                    
                    // Move packet to start position
                    packet.style.top = step.packetStart.top;
                    packet.style.left = step.packetStart.left;
                    
                    // Animate packet to end position
                    setTimeout(() => {
                        packet.style.top = step.packetEnd.top;
                        packet.style.left = step.packetEnd.left;
                        toNode.classList.add('processing');
                    }, 300);
                    
                    // Complete animation if last step
                    if (index === geom.flowSteps.length - 1) {
                        setTimeout(() => {
                            // Final celebration
                            statusMessage.innerHTML = `
                                <div class="status-update font-bold text-green-700 bg-gradient-to-r from-green-50 to-emerald-50 border-green-200">
                                    ‚ú® Order request completed successfully! 
                                    <br><span class="text-sm font-normal">All services worked together seamlessly in ${(geom.flowSteps.length * 1.5).toFixed(1)} seconds</span>
                                </div>
                            `;
                            
                            // Add final glow effect to all nodes
                            document.querySelectorAll('.service-node').forEach(node => {
                                node.style.boxShadow = '0 0 30px rgba(34, 197, 94, 0.5)';
                                setTimeout(() => {
                                    node.style.boxShadow = '';
                                    node.classList.remove('active', 'processing');
                                }, 2000);
                            });
                            
                            // Reset packet
                            setTimeout(() => {
                                packet.classList.remove('moving');
                                flowActive = false;
                            }, 3000);
                        }, 1500);
                    }
                }, step.delay);
            });
        }

        function resetFlow() {
            flowActive = false;
            const packet = document.getElementById('request-packet');
            const statusMessage = document.getElementById('status-message');
            const flowPaths = document.querySelectorAll('.flow-path');
            const geom = computeGeometry();
            
            // Reset packet
            packet.classList.remove('moving');
            if (geom) {
                packet.style.top = geom.packetStart.top;
                packet.style.left = geom.packetStart.left;
            }
            
            // Reset all nodes
            document.querySelectorAll('.service-node').forEach(node => {
                node.classList.remove('active', 'processing');
                node.style.boxShadow = '';
            });
            
            // Reset all flow paths
            flowPaths.forEach(path => {
                path.classList.remove('active');
            });
            
            // Reset status message
            statusMessage.innerHTML = `
                <div class="font-medium text-gray-700">
                    Click "Start Order Request Flow" to see the animation
                </div>
            `;
        }

        // Event listeners for flow control
        document.getElementById('startFlow').addEventListener('click', startRequestFlow);
        document.getElementById('resetFlow').addEventListener('click', resetFlow);

        // Recompute geometry on resize for correct alignment
        window.addEventListener('resize', () => {
            if (!flowActive) {
                syncSvgViewBox();
                const paths = document.querySelectorAll('.flow-path');
                paths.forEach(p => p.classList.remove('active'));
                const geom = computeGeometry();
                if (geom) {
                    const packet = document.getElementById('request-packet');
                    packet.style.top = geom.packetStart.top;
                    packet.style.left = geom.packetStart.left;
                }
            }
        });

        // Auto-reset after completion
        setInterval(() => {
            if (!flowActive) {
                const flowPaths = document.querySelectorAll('.flow-path');
                const hasActiveFlow = Array.from(flowPaths).some(path => path.classList.contains('active'));
                if (hasActiveFlow) {
                    setTimeout(resetFlow, 5000);
                }
            }
        }, 1000);
    </script>
</body>
</html>
